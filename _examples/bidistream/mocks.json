[
  {
    "request": {
      "method": "/ditto.example.BidiService/Hello",
      "bodyPatterns": [
        {
          "matchesJsonPath": { "expression": "$.length", "eq": "1" }
        },
        {
          "matchesJsonPath": { "expression": "$[0].begin", "eq": "{}" }
        }
      ]
    },
    "response": {
      "body": [{ "name": "begin" }]
    }
  },
  {
    "request": {
      "method": "/ditto.example.BidiService/Hello",
      "bodyPatterns": [
        {
          "matchesJsonPath": { "expression": "$[0].begin", "eq": "{}" }
        },
        {
          "matchesJsonPath": { "expression": "$[1].send_item.name", "eq": "2" }
        }
      ]
    },
    "response": {
      "body": [{ "name": "begin" }, { "name": "send" }]
    }
  },
  {
    "request": {
      "method": "/ditto.example.BidiService/Hello",
      "bodyPatterns": [
        {
          "matchesJsonPath": { "expression": "$[0].send_item.name", "eq": "3" }
        }
      ]
    },
    "response": {
      "body": [{ "name": "send only" }]
    }
  },
  {
    "request": {
      "method": "/ditto.example.BidiService/Hello",
      "bodyPatterns": [
        {
          "matchesJsonPath": { "expression": "$[0].begin", "eq": "{}" }
        },
        {
          "matchesJsonPath": { "expression": "$[1].send_item.name", "eq": "4" }
        },
        {
          "matchesJsonPath": { "expression": "$[2].complete", "eq": "{}" }
        }
      ]
    },
    "response": {
      "body": [{ "name": "begin" }, { "name": "send" }, { "name": "complete" }]
    }
  },
  {
    "request": {
      "method": "/ditto.example.BidiService/Hello",
      "bodyPatterns": [
        {
          "matchesJsonPath": { "expression": "$.length", "regexp": "^[0-9]$" }
        }
      ]
    },
    "response": {
      "body": [{ "name": "all other" }]
    }
  }
]
